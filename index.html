import requests
from PyQt5.QtWidgets import QInputDialog, QMessageBox

def check_key_system(self):
    # 1. 내가 만든 GitHub Raw 파일 주소 (무료 서버 역할)
    # 예: https://raw.githubusercontent.com/내아이디/저장소/main/key.txt
    url = "내_깃허브_파일_주소" 
    
    try:
        response = requests.get(url)
        correct_key = response.text.strip()
        
        # 2. 키 입력창 띄우기
        user_key, ok = QInputDialog.getText(self, '인증', '키를 입력하세요.\n(키는 디스코드나 광고 링크에서 획득 가능)')
        
        if ok and user_key == correct_key:
            QMessageBox.information(self, "성공", "인증되었습니다!")
            return True
        else:
            # 3. 틀리면 Linkvertise 링크 열기
            import webbrowser
            webbrowser.open("내_Linkvertise_링크")
            QMessageBox.warning(self, "실패", "키가 틀렸습니다. 광고를 보고 다시 시도하세요.")
            return False
    except:
        QMessageBox.critical(self, "오류", "서버 연결에 실패했습니다.")
        return False